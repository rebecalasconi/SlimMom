{"ast":null,"code":"import React,{useState,useEffect}from'react';import DailyCaloriesForm from'../../components/DailyCaloriesForm/DailyCaloriesForm';import RightSideBar from'../../components/RightSideBar/RightSideBar';import Header from'../../components/Header/Header';import'./CalculatorPage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CalculatorPage=()=>{const[userData,setUserData]=useState({height:'',age:'',currentWeight:'',desiredWeight:'',bloodType:'1'});const[dailyRate,setDailyRate]=useState(0);const[consumed,setConsumed]=useState(0);const[selectedDate,setSelectedDate]=useState(new Date().toISOString().split('T')[0]);const[notRecommendedFoods,setNotRecommendedFoods]=useState([]);const[forbiddenFoods,setForbiddenFoods]=useState([]);const[allForbiddenFoods,setAllForbiddenFoods]=useState([]);const handleDateChange=date=>{setSelectedDate(date);localStorage.setItem('selectedDate',date);loadDataForDate(date);};const getUserKey=key=>{const userName=localStorage.getItem('userName');return userName?`${userName}_${key}`:key;};const loadDataForDate=date=>{const userKey=getUserKey('caloriesDataByDate');const savedData=JSON.parse(localStorage.getItem(userKey))||{};const dataForSelectedDate=savedData[date]||{consumed:0};setConsumed(dataForSelectedDate.consumed||0);};useEffect(()=>{const storedData=JSON.parse(localStorage.getItem('caloriesData'));const storedFormData=JSON.parse(localStorage.getItem('calorieFormData'));const storedSelectedDate=localStorage.getItem('selectedDate')||new Date().toISOString().split('T')[0];setSelectedDate(storedSelectedDate);loadDataForDate(storedSelectedDate);if(storedData){setDailyRate(storedData.dailyRate||0);setForbiddenFoods(storedData.forbiddenFoods||[]);setAllForbiddenFoods(storedData.allForbiddenFoods||[]);}if(storedFormData){setUserData(storedFormData);}},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"full-container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftPanel\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"leftPanel-title\",children:\"Calculate your daily calorie intake right now\"}),/*#__PURE__*/_jsx(DailyCaloriesForm,{initialValues:userData,onDateChange:handleDateChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rightPanel\",children:/*#__PURE__*/_jsx(RightSideBar,{dailyRate:dailyRate,consumed:consumed,forbiddenFoods:forbiddenFoods,allForbiddenFoods:allForbiddenFoods,selectedDate:selectedDate})})]})]})});};export default CalculatorPage;","map":{"version":3,"names":["React","useState","useEffect","DailyCaloriesForm","RightSideBar","Header","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CalculatorPage","userData","setUserData","height","age","currentWeight","desiredWeight","bloodType","dailyRate","setDailyRate","consumed","setConsumed","selectedDate","setSelectedDate","Date","toISOString","split","notRecommendedFoods","setNotRecommendedFoods","forbiddenFoods","setForbiddenFoods","allForbiddenFoods","setAllForbiddenFoods","handleDateChange","date","localStorage","setItem","loadDataForDate","getUserKey","key","userName","getItem","userKey","savedData","JSON","parse","dataForSelectedDate","storedData","storedFormData","storedSelectedDate","children","className","initialValues","onDateChange"],"sources":["C:/Users/rebec/Desktop/SlimMom/src/pages/CalculatorPage/CalculatorPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport DailyCaloriesForm from '../../components/DailyCaloriesForm/DailyCaloriesForm';\r\nimport RightSideBar from '../../components/RightSideBar/RightSideBar';\r\nimport Header from '../../components/Header/Header';\r\nimport './CalculatorPage.css';\r\n\r\nconst CalculatorPage = () => {\r\n  const [userData, setUserData] = useState({\r\n    height: '',\r\n    age: '',\r\n    currentWeight: '',\r\n    desiredWeight: '',\r\n    bloodType: '1',\r\n  });\r\n\r\n  const [dailyRate, setDailyRate] = useState(0);\r\n  const [consumed, setConsumed] = useState(0);\r\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\r\n\r\n  const [notRecommendedFoods, setNotRecommendedFoods] = useState([]);\r\n  const [forbiddenFoods, setForbiddenFoods] = useState([]);\r\n  const [allForbiddenFoods, setAllForbiddenFoods] = useState([]);\r\n\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n    localStorage.setItem('selectedDate', date);\r\n    loadDataForDate(date);\r\n  };\r\n\r\n  const getUserKey = (key) => {\r\n    const userName = localStorage.getItem('userName');\r\n    return userName ? `${userName}_${key}` : key;\r\n  };\r\n\r\n  const loadDataForDate = (date) => {\r\n    const userKey = getUserKey('caloriesDataByDate');\r\n    const savedData = JSON.parse(localStorage.getItem(userKey)) || {};\r\n    const dataForSelectedDate = savedData[date] || { consumed: 0 };\r\n\r\n    setConsumed(dataForSelectedDate.consumed || 0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedData = JSON.parse(localStorage.getItem('caloriesData'));\r\n    const storedFormData = JSON.parse(localStorage.getItem('calorieFormData'));\r\n    const storedSelectedDate = localStorage.getItem('selectedDate') || new Date().toISOString().split('T')[0];\r\n\r\n    setSelectedDate(storedSelectedDate);\r\n    loadDataForDate(storedSelectedDate);\r\n\r\n    if (storedData) {\r\n      setDailyRate(storedData.dailyRate || 0);\r\n      setForbiddenFoods(storedData.forbiddenFoods || []);\r\n      setAllForbiddenFoods(storedData.allForbiddenFoods || []);\r\n    }\r\n\r\n    if (storedFormData) {\r\n      setUserData(storedFormData);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n    <div className='full-container'>\r\n     <Header />\r\n      <div className=\"container\">\r\n        <div className=\"leftPanel\">\r\n          <h1 className='leftPanel-title'>Calculate your daily calorie intake right now</h1>\r\n          <DailyCaloriesForm initialValues={userData} onDateChange={handleDateChange} />\r\n        </div>\r\n        <div className=\"rightPanel\">\r\n          <RightSideBar\r\n            dailyRate={dailyRate}\r\n            consumed={consumed}\r\n            forbiddenFoods={forbiddenFoods}\r\n            allForbiddenFoods={allForbiddenFoods}\r\n            selectedDate={selectedDate}\r\n          />\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CalculatorPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}